process myana = {

    untracked PSet maxEvents = {untracked int32 input = -1}

    source = PoolSource {
         untracked vstring fileNames = 
         {'file:RelVal_TTbar_210pre5.root'}
#         {'/store/relval/2008/6/4/RelVal-RelValTTbar-1212531852-IDEAL_V1-2nd/0000/32E6ABAA-A232-DD11-BD3B-000423D6B48C.root'}
    }

### MessageLogger

    include "FWCore/MessageService/data/MessageLogger.cfi"
    replace MessageLogger.categories     = { "testMyAssociator","MuonAssociatorByHits",
					     "DTHitAssociator","RPCHitAssociator","MuonTruth","PSimHitMap",
					     "FwkJob", "FwkReport", "FwkSummary", "Root_NoDictionary"}
    replace MessageLogger.cout = {
        untracked string threshold = "INFO"
        untracked PSet INFO = { untracked int32 limit = 0  }
        untracked PSet default = { untracked int32 limit = 10000000 }
        untracked PSet testMyAssociator = { untracked int32 limit = 10000000 }
        untracked PSet MuonAssociatorByHits = { untracked int32 limit = 0 }
        untracked PSet DTHitAssociator = { untracked int32 limit = 0 }
        untracked PSet RPCHitAssociator = { untracked int32 limit = 0 }
        untracked PSet MuonTruth = { untracked int32 limit = 0 }
        untracked PSet PSimHitMap = { untracked int32 limit = 0 }
        untracked PSet FwkReport  = { untracked int32 limit = 10000000 
                                      untracked int32 reportEvery = 1 }
        untracked PSet FwkSummary = { untracked int32 limit = 10000000
	                              untracked int32 reportEvery = 1 }
        untracked PSet FwkJob     = { untracked int32 limit = 0 } 
        untracked PSet Root_NoDictionary = { untracked int32 limit = 0 }
    }
    replace MessageLogger.statistics = {"cout"} 
    replace MessageLogger.cerr = { untracked bool placeholder = true }

#--- TrackingParticle collection has to include muon hits ------------------------------------------------------------
#
### Mixing Module
    include "SimGeneral/MixingModule/data/mixNoPU.cfi"  
#
### Tracking Particle
    include "SimGeneral/TrackingAnalysis/data/trackingParticles.cfi"     # this is ok for Tracker tracks
#
# for standAloneMuons 
    replace trackingtruthprod.TrackerHitLabels  = {"g4SimHitsMuonDTHits","g4SimHitsMuonCSCHits","g4SimHitsMuonRPCHits"}
# for globalMuons
#    replace trackingtruthprod.TrackerHitLabels += "g4SimHitsMuonDTHits"
#    replace trackingtruthprod.TrackerHitLabels += "g4SimHitsMuonCSCHits"
#    replace trackingtruthprod.TrackerHitLabels += "g4SimHitsMuonRPCHits"
#---------------------------------------------------------------------------------------------------------------------

    include "Configuration/StandardSequences/data/Services.cff"
    include "Configuration/StandardSequences/data/Geometry.cff"
    include "Configuration/StandardSequences/data/MagneticField.cff"
    include "Configuration/StandardSequences/data/Simulation.cff"
    include "Configuration/StandardSequences/data/FakeConditions.cff"
    include "Configuration/StandardSequences/data/RawToDigi.cff"
    include "Configuration/StandardSequences/data/Reconstruction.cff"

### Analyzer running MuonAssociatorByHits ---------------------------------------------------------------------------

module testanalyzer = testMyAssociator {

### for Muon Track association

#   input collections

# ... reco::Track collection 
    InputTag tracksTag = standAloneMuons
#    InputTag tracksTag = standAloneMuons:UpdatedAtVtx
#    InputTag tracksTag = globalMuons

# ... TrackingParticle collection 
    InputTag tpTag = mergedtruth:MergedTrackTruth

    bool dumpInputCollections = false

#....... general input parameters
#
    bool AbsoluteNumberOfHits_track = false
    uint32 MinHitCut_track = 1  
    bool AbsoluteNumberOfHits_muon = false
    uint32 MinHitCut_muon = 1

    double PurityCut_track = 0.5
    double PurityCut_muon  = 0.5

    double EfficiencyCut_track = 0.5
    double EfficiencyCut_muon = 0.5

#........(for inner tracker stub of Global Muons)...
    bool UsePixels = true
    bool UseGrouped = true
    bool UseSplitting = true
    bool ThreeHitTracksAreSpecial = true

### for DT Hit associator
    bool crossingframe = true
    InputTag simtracksTag = g4SimHits
    InputTag simtracksXFTag = mix:g4SimHits

    InputTag DTsimhitsTag = g4SimHits:MuonDTHits
    InputTag DTsimhitsXFTag = mix:g4SimHitsMuonDTHits
    InputTag DTdigiTag = simMuonDTDigis
    InputTag DTdigisimlinkTag = simMuonDTDigis
    InputTag DTrechitTag = dt1DRecHits

    bool dumpDT = false
    bool links_exist = true
    bool associatorByWire = false	

### for CSC Hit associator
    InputTag CSCsimHitsXFTag = mix:g4SimHitsMuonCSCHits
    InputTag CSClinksTag = simMuonCSCDigis:MuonCSCStripDigiSimLinks
    InputTag CSCwireLinksTag = simMuonCSCDigis:MuonCSCWireDigiSimLinks

### for RPC Hit associator
    InputTag RPCsimhitsXFTag = mix:g4SimHitsMuonRPCHits 
    InputTag RPCdigisimlinkTag = simMuonRPCDigis:RPCDigiSimLink

### for Tracker Hit associator
#
    bool associatePixel = true
    bool associateStrip = true
    bool associateRecoTracks = true

    vstring ROUList = {
	#For running only strip or pixel comment out the appropriate strings
	#TIB
	"TrackerHitsTIBLowTof","TrackerHitsTIBHighTof",
	#TID
	"TrackerHitsTIDLowTof","TrackerHitsTIDHighTof",
	#TOB
	"TrackerHitsTOBLowTof","TrackerHitsTOBHighTof",
	#TEC
	"TrackerHitsTECLowTof","TrackerHitsTECHighTof",
	#BPIX
	"TrackerHitsPixelBarrelLowTof","TrackerHitsPixelBarrelHighTof",
	#FPIX
	"TrackerHitsPixelEndcapLowTof","TrackerHitsPixelEndcapHighTof"
    }
}
### -----------------------------------------------------------------------------------------------------------------

### define path
path test = {mix,trackingParticles,testanalyzer}

}
